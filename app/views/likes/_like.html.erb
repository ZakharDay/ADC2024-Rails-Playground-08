<%#
  user_signed_in?

  if current_user
    like = likeable.likes.where(user_id: current_user.id)
    button_text = like && like.count > 0 ? "Не нравится" : "Нравится"
  else
    button_text = "Like"
  end
%>

<%
  button_text = "Like"
  counter = likeable.likes.count
%>

<%= turbo_frame_tag "like_#{dom_id(likeable)}" do %>
  <div>
    <%#= content_tag :span, "#{counter} #{Russian.p(counter, 'лайк', 'лайка', 'лайков')}" %>
    <%= content_tag :span, "#{counter} ❤️" %>
    <%= link_to button_text, likes_toggle_path(type: likeable.class, id: likeable.id), data: { turbo_stream: true } %>
  </div>
<% end %>